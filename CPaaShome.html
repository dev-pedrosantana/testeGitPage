<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPaaS Home</title>
    <link rel="stylesheet" type="text/css" href="CSS/cpaascss.css">
</head>

<body>
    <header>
        <div class="logo">
            <img src="imagens/modavo-1.png" alt="Logo da Empresa">
        </div>
        <main>
            <button id="btnLogin" onclick="javascript:location.href='login.html'">Login</button>
            <span id="lblBoasVindas"></span>
        </main>
    </header>
    <nav>
        <div class="menu">
            <ul class="nav_links">
                <li><a href="#" id="produtobotao">Produtos</a></li>
                <li><a href="#">Tarifas</a></li>
                <li><a href="#">API</a></li>
                <li><a href="#">Central de ajuda</a></li>
                <li><a href="#">Para Empresas</a></li>
                <li id="linkServicos"><a href="#">Serviços</a></li>
            </ul>
        </div>
    </nav>
    <div class="container-flex">
        <div class="container">
            <img src="imagens/modavo-1.png" alt="Logo da Empresa" id="logosecundaria">
            <h1>CPaaS Plataform</h1>
        </div>
        <div class="container" id="textomodavo">
            <p>Descubra a solução de CPaaS da Modavo. Uma solução completa para integrar canais de comunicação
                empresarial, como SMS, autenticação de dois fatores, números máscara, transcrição de áudio e muito mais.
                Experimente agora!</p>
        </div>
    </div>
    <img src="imagens/oqueé.png">
    <img src="imagens/Captura de tela 2023-10-14 121847.png">
    <img src="imagens/Captura de tela 2023-10-14 121757.png">

    <script>
        let objetoEncontrado = null;
        const btnLogin = document.getElementById("btnLogin");
        const labelMostraNome = document.getElementById("lblBoasVindas");

        for (let item in localStorage) {
            if (localStorage.hasOwnProperty(item)) {
                let objetoString = localStorage.getItem(item);
                let objeto = JSON.parse(objetoString);

                if (objeto && objeto.isLogged === true) {
                    objetoEncontrado = objeto;
                    break; 
                }
            }
        }
        
        if (objetoEncontrado) {
            btnLogin.classList.add("invisible");
            labelMostraNome.innerText = "Bem vindo(a), " + objetoEncontrado.login;
            
        } else {
            const linkServicos = document.getElementById("linkServicos");
            btnLogin.classList.remove("invisible");

            var menuLinks = linkServicos.parentNode;
            menuLinks.removeChild(linkServicos);
        }

    </script>
</body>
</html>